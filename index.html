<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Para Maria 💙 — de Sarah</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0a0f1c; --card:#121a2a; --text:#e8eeff; --accent:#b8d0ff; --primary:#6ea8ff; --ok:#7dffa0;
    --shadow:0 10px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--text);
    background: var(--bg);
    --grad-a: rgba(110,168,255,.25);
    --grad-b: rgba(184,208,255,.20);
    overflow-x: hidden;
  }
  body::before {
    content: ''; position: fixed; inset: 0; z-index: -1;
    background:
      radial-gradient(1200px 600px at 70% -10%, var(--grad-a), transparent 40%),
      radial-gradient(900px 600px at -10% -10%, var(--grad-b), transparent 40%);
    animation: background-pan 25s linear infinite;
  }
  /* ✨ NOVO FUNDO COM GIF ✨ */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    z-index: -2; /* Posição atrás de tudo */
    /* 👇👇 COLOQUE O CAMINHO PARA SEU GIF AQUI 👇👇 */
    background-image: url('caminho/para/seu/fundo.gif');
    background-size: cover;
    background-position: center;
    opacity: 0.2; /* Ajuste a opacidade (transparência) do GIF */
    pointer-events: none; /* Garante que o GIF não atrapalhe os cliques */
  }

  @keyframes background-pan {
    0% { transform: translate(0, 5%); }
    50% { transform: translate(10%, -5%); }
    100% { transform: translate(0, 5%); }
  }

  /* ANIMAÇÕES DE ENTRADA */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  header > * {
    animation: fadeInUp 0.8s ease-out both;
  }
  header .title { animation-delay: 0.1s; }
  header .subtitle:nth-of-type(1) { animation-delay: 0.2s; }
  header .subtitle:nth-of-type(2) { animation-delay: 0.3s; }
  header .bar { animation-delay: 0.4s; }

  header{padding:32px 16px;text-align:center}
  .title{font-size:clamp(26px,5vw,42px);font-weight:800}
  .subtitle{color:var(--accent);opacity:.95;margin-top:6px}
  .bar{display:flex;justify-content:center;gap:10px;flex-wrap:wrap;margin-top:14px}
  .btn{
    background:linear-gradient(180deg,rgba(184,208,255,.15),rgba(184,208,255,.05)); color:var(--text);
    border:1px solid rgba(184,208,255,.25); border-radius:14px; padding:10px 14px; font-weight:800; cursor:pointer;
    box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease;
  }
  .btn:hover{transform:translateY(-3px); box-shadow: 0 12px 28px rgba(110,168,255,.15);}
  .btn:active{transform:translateY(-1px) scale(.98);}
  
  main{display:grid;gap:20px; padding:0 clamp(12px,4vw,28px) 160px; max-width:980px; margin:0 auto; perspective: 1000px;}

  /* LÓGICA DE TRANSIÇÃO DAS SEÇÕES */
  section.card{
    background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
    border:1px solid rgba(184,208,255,.22); border-radius:18px; box-shadow:var(--shadow);
    padding:clamp(14px,2.6vw,22px);
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    opacity: 0; transform: translateY(20px) scale(0.98);
  }
  section.card.visible { opacity: 1; transform: translateY(0) scale(1); }
  .hidden{display:none}

  .card h2{margin:0 0 10px}

  /* TRANSIÇÃO ESPECIAL PARA A SEÇÃO 'PORQUÊS' */
  #reasons h2,
  #reasons .reason-list li {
    opacity: 0;
    transform: translateX(-20px);
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
  }
  #reasons.visible h2,
  #reasons.visible .reason-list li {
    opacity: 1;
    transform: translateX(0);
  }
  .reason-list { text-align: left; line-height: 1.6; padding-inline-start: 20px;}
  /* Atraso para o efeito cascata */
  #reasons.visible h2:nth-of-type(1) { transition-delay: 0.2s; }
  #reasons.visible .reason-list:nth-of-type(1) li:nth-child(1) { transition-delay: 0.3s; }
  #reasons.visible .reason-list:nth-of-type(1) li:nth-child(2) { transition-delay: 0.4s; }
  #reasons.visible .reason-list:nth-of-type(1) li:nth-child(3) { transition-delay: 0.5s; }
  #reasons.visible .reason-list:nth-of-type(1) li:nth-child(4) { transition-delay: 0.6s; }
  #reasons.visible .reason-list:nth-of-type(1) li:nth-child(5) { transition-delay: 0.7s; }
  #reasons.visible h2:nth-of-type(2) { transition-delay: 0.9s; }
  #reasons.visible .reason-list:nth-of-type(2) li:nth-child(1) { transition-delay: 1.0s; }
  #reasons.visible .reason-list:nth-of-type(2) li:nth-child(2) { transition-delay: 1.1s; }
  #reasons.visible .reason-list:nth-of-type(2) li:nth-child(3) { transition-delay: 1.2s; }
  #reasons.visible .reason-list:nth-of-type(2) li:nth-child(4) { transition-delay: 1.3s; }
  #reasons.visible .reason-list:nth-of-type(2) li:nth-child(5) { transition-delay: 1.4s; }


  .timer{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
  .pill{padding:10px 12px;border-radius:999px;background:rgba(184,208,255,.08);border:1px solid rgba(184,208,255,.25)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}
  .gifbox{
    background:#0e1628;border:1px solid rgba(184,208,255,.2);border-radius:12px;overflow:hidden;
    display:grid;place-items:center; transition: transform 0.2s ease;
  }
  .gifbox:hover { transform: scale(1.03); }
  .gifbox img{width:100%;height:160px;object-fit:cover;display:block}
  .gifbox small{color:var(--accent);padding:8px; display: block; text-align: center;}
  .ask .row{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px}
  .btn-ok{background:linear-gradient(180deg,rgba(125,255,160,.25),rgba(125,255,160,.12));border-color:rgba(125,255,160,.6)}
  canvas.hearts{position:fixed;inset:0;pointer-events:none;z-index:-1}
  footer{text-align:center;color:var(--accent);opacity:.8;padding:26px 0 120px}
  
  /* ANIMAÇÃO DA TIMELINE */
  .timeline { list-style: none; padding-left: 20px; border-left: 2px solid var(--accent); }
  .timeline li { 
    position: relative; margin-bottom: 20px;
    opacity: 0; transform: translateX(-30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  .timeline li.in-view { opacity: 1; transform: translateX(0); }
  .timeline li::before { content: '💙'; position: absolute; left: -24px; top: 0; background: var(--bg); }
  
  #secret-input { padding:10px;border-radius:10px;border:1px solid rgba(184,208,255,.25); background:rgba(184,208,255,.06);color:var(--text); margin: 10px 5px 0;}

  /* ESTILO DA TRILHA SONORA */
  .song-list {
    list-style: none;
    padding: 0;
    margin-top: 20px;
    text-align: center;
    font-family: 'Caveat', cursive;
    font-size: clamp(24px, 4vw, 30px);
    line-height: 2;
    color: var(--accent);
  }
  .song-list li::before {
    content: '♫';
    margin-right: 12px;
    color: var(--primary);
  }

  /* PLAYER CUSTOM OUTLINE */
  .player {
    position: fixed; bottom: 0; left: 0; right: 0; background: rgba(10,15,28,0.85);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    border-top: 1px solid var(--primary); padding: 16px; display: flex; flex-direction: column;
    align-items: center; gap: 8px; color: #e8eeff; font-family: sans-serif; z-index: 20;
    box-shadow: 0 -4px 30px rgba(0,0,0,0.4);
    transform: translateY(100%); animation: slideUp 0.8s ease-out 1s forwards;
  }
  @keyframes slideUp { to { transform: translateY(0); } }

  .controls { display: flex; gap: 14px; }
  .controls button {
    background: transparent; color: #e8eeff; border: 2px solid var(--primary); border-radius: 10px;
    padding: 10px 14px; min-width: 64px; height: 42px; font-size: 18px; cursor: pointer;
    transition: transform 0.12s ease, background 0.12s ease, box-shadow 0.12s ease;
    display: inline-flex; align-items: center; justify-content: center;
  }
  .controls button:hover { transform: translateY(-2px); background: rgba(110,168,255,0.12); box-shadow: 0 6px 18px rgba(110,168,255,0.08); }
  .controls button:active { animation: bounce 0.2s; }
  @keyframes bounce { 0% { transform: scale(1); } 50% { transform: scale(0.85); } 100% { transform: scale(1); } }
  .progress-container { width: clamp(200px, 80%, 600px); height: 8px; background: rgba(110,168,255,.2); border-radius: 4px; cursor: pointer; }
  .progress { height: 100%; width: 0; background: var(--primary); border-radius: 4px; transition: width 0.1s linear;}
  .volume { display: flex; align-items: center; gap: 6px; }
  .volume input { cursor: pointer; }
  #loveVideo {
    margin-top: 16px; display: none; border-radius: 12px; box-shadow: 0 0 20px rgba(110,168,255,0.3);
    border: 1px solid rgba(184,208,255,.25); width: 100%; max-width: 720px;
  }
  #nowPlaying { transition: opacity 0.3s ease; }
  #nowPlaying.fade { opacity: 0; }
</style>
</head>
<body>
<canvas class="hearts" id="hearts"></canvas>

<header>
  <div class="title">Maria 💙</div>
  <div class="subtitle">Eu te queria a vida toda te confesso</div>
  <div class="subtitle">Always & Forever.</div>
  <div class="bar">
    <button class="btn" onclick="show('reasons')">Porquês</button>
    <button class="btn" onclick="show('timeline')">História</button>
    <button class="btn" onclick="show('playlist')">Músicas</button>
    <button class="btn" onclick="show('letter')">Cartinha</button>
    <button class="btn" onclick="show('count')">Contagem</button>
    <button class="btn" onclick="show('secret')">Segredo</button>
    <button class="btn" onclick="show('chance')">Segunda chance</button>
  </div>
</header>

<main>
  <section id="reasons" class="card">
    <h2>Por que vale a pena tentar de novo</h2>
    <ul class="reason-list">
      <li>Aprendi com os erros e hoje sei ouvir antes de falar.</li>
      <li>O que sinto por você não é preencher vazio, mas escolha consciente.</li>
      <li>Relacionamentos reais exigem paciência, cuidado e constância.</li>
      <li>Quero respeitar seu tempo, seus limites e sua liberdade.</li>
      <li>Vejo em nós algo leve, verdadeiro e duradouro.</li>
    </ul>
    <h2 style="margin-top:20px">Como sei que realmente te amo</h2>
    <ul class="reason-list">
      <li>Sempre continuo escolhendo você.</li>
      <li>Sinto paz ao imaginar um futuro ao seu lado.</li>
      <li>Quero te apoiar nos seus sonhos e respeitar seus silêncios.</li>
      <li>Meu medo não é ficar sozinho, mas não ser o melhor pra nós.</li>
      <li>Te amo de forma madura: amor é escolha diária.</li>
    </ul>
  </section>

  <section id="timeline" class="card hidden">
    <h2>Nossa História</h2>
    <ul class="timeline">
      <li>
        <strong>29 de Agosto de 2023</strong>
        <p>A primeira mensagem. O começo de tudo, mal sabíamos o que vinha pela frente.</p>
      </li>
      <li>
        <strong>15 de Setembro de 2023</strong>
        <p>Nosso primeiro encontro. Lembro do seu sorriso e de como a conversa fluiu fácil.</p>
      </li>
      <li>
        <strong>05 de Outubro de 2023</strong>
        <p>Aquela noite em que ficamos até tarde conversando e eu senti algo diferente.</p>
      </li>
      <li>
        <strong>Hoje</strong>
        <p>A chance de adicionar um novo capítulo feliz à nossa história.</p>
      </li>
    </ul>
  </section>

  <section id="playlist" class="card hidden">
    <h2>Nossa Trilha Sonora 🎶</h2>
    <ul class="song-list">
      <li>Lisboa - ANAVITÓRIA</li>
      <li>Tenta acreditar - ANAVITÓRIA</li>
      <li>18 - One Direction</li>
      <li>Ela - Clarissa</li>
      <li>Enchanted - Taylor Swift</li>
    </ul>
  </section>

  <section id="count" class="card hidden">
    <h2>Contagem desde nossa primeira mensagem</h2>
    <p style="color:var(--accent)">29/08/2023 - 15:30</p>
    <br>
    <div class="timer">
      <span class="pill"><strong id="dd">0</strong> dias</span>
      <span class="pill"><strong id="hh">0</strong> horas</span>
      <span class="pill"><strong id="mm">0</strong> minutos</span>
      <span class="pill"><strong id="ss">0</strong> segundos</span>
    </div>
  </section>

  <section id="letter" class="card hidden">
    <h2>Cartinha</h2>
    <p>Maria,</p>
    <p>Escolho você com calma e verdade. Quero recomeçar simples: combinados claros, constância e respeito. Sem promessas vazias. Só prática.</p>
    <p>— Sarah</p>
  </section>
  
  <section id="secret" class="card hidden" style="text-align: center;">
    <h2>Um Segredo Para Você 🤫</h2>
    <p>Digite nosso apelido secreto para revelar uma mensagem:</p>
    <input type="text" id="secret-input" placeholder="A senha é...">
    <button class="btn" onclick="revealSecret()">Revelar</button>
    <p id="secret-message" style="display:none; margin-top:15px; font-size: 1.2rem; color:var(--ok);">
      Eu te amo mais do que tudo! 💙
    </p>
  </section>

  <section id="chance" class="card hidden ask">
    <h2>Me dá uma segunda chance?</h2>
    <div class="row">
      <button class="btn btn-ok" id="yes">Sim, uma conversa</button>
      <button class="btn" id="no">Não</button>
    </div>
    <video id="loveVideo" controls>
      <source src="i love u baby.mp4" type="video/mp4">
      Seu navegador não suporta vídeos.
    </video>
    <p id="resp" style="margin:6px 0 0;color:var(--accent)"></p>
  </section>
</main>

<footer>Feito com carinho por Sarah 💙</footer>

<div class="player">
  <div class="controls">
    <button onclick="prevSong()">⏮</button>
    <button onclick="togglePlay()">⏯</button>
    <button onclick="nextSong()">⏭</button>
  </div>
  <div class="progress-container" onclick="setProgress(event)">
    <div class="progress" id="progress"></div>
  </div>
  <div class="volume">
    <label>🔊</label>
    <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
  </div>
  <p id="nowPlaying">Tocando: —</p>
</div>

<script>
/* ========= SEÇÕES COM ANIMAÇÃO ========= */
let currentVisibleId = 'reasons';
let isAnimating = false;
const animationDuration = 400; // Deve ser igual ao tempo da transição no CSS

function show(id) {
  if (isAnimating || id === currentVisibleId) return;
  isAnimating = true;

  const oldSection = document.getElementById(currentVisibleId);
  const newSection = document.getElementById(id);

  if (oldSection) {
    oldSection.classList.remove('visible');
  }

  setTimeout(() => {
    if(oldSection) oldSection.classList.add('hidden');
    
    newSection.classList.remove('hidden');
    void newSection.offsetWidth; // Força o navegador a aplicar o 'display' antes da transição
    newSection.classList.add('visible');
    
    currentVisibleId = id;
    
    // Libera a trava da animação
    setTimeout(() => { isAnimating = false; }, animationDuration);
  }, animationDuration);
}

// Configuração inicial ao carregar a página
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('main > section').forEach(s => {
    s.classList.add('hidden');
    s.classList.remove('visible');
  });
  const initialSection = document.getElementById('reasons');
  initialSection.classList.remove('hidden');
  void initialSection.offsetWidth;
  initialSection.classList.add('visible');

  // ✨ TENTA INICIAR A MÚSICA AUTOMATICAMENTE ✨
  // Navegadores podem bloquear, exigindo um clique do usuário para iniciar.
  setTimeout(() => {
    const playPromise = audio.play();
    if (playPromise !== undefined) {
      playPromise.catch(() => {
        // Autoplay bloqueado. A música começará quando o usuário interagir.
      });
    }
  }, 500);
});

/* ========= CONTADOR ========= */
const COUNTDOWN_TO = "2023-08-29T15:30:00";
const target=new Date(COUNTDOWN_TO);
const dd=document.getElementById('dd'),hh=document.getElementById('hh'),mm=document.getElementById('mm'),ss=document.getElementById('ss');
function tick(){
  const now=new Date();
  let diff=Math.max(0, now-target);
  const d=Math.floor(diff/86400000); diff-=d*86400000;
  const h=Math.floor(diff/3600000); diff-=h*3600000;
  const m=Math.floor(diff/60000); diff-=m*60000;
  const s=Math.floor(diff/1000);
  if (dd) dd.textContent=d; if(hh) hh.textContent=h; if(mm) mm.textContent=m; if(ss) ss.textContent=s;
}
setInterval(tick,1000); tick();

/* ========= SEGUNDA CHANCE ========= */
const loveVideo=document.getElementById("loveVideo");
const yesBtn=document.getElementById("yes");
const noBtn=document.getElementById("no");
const resp=document.getElementById("resp");
yesBtn.onclick=()=>{
  resp.textContent="💙 Eu também te amo, Maria.";
  loveVideo.style.display="block";
  loveVideo.scrollIntoView({behavior:"smooth"});
  loveVideo.play();
};
noBtn.style.position="relative";
function escapeNo(){
  const dx=(Math.random()*260-130)|0;
  const dy=(Math.random()*120-60)|0;
  noBtn.style.transform=`translate(${dx}px,${dy}px)`;
  if(Math.random()<0.25){noBtn.style.opacity=0;setTimeout(()=>{noBtn.style.opacity=1;},350);}
}
noBtn.onmouseenter=escapeNo; noBtn.onmousemove=escapeNo;

/* ========= PLAYER ========= */
const playlist = [
  "Lisboa - ANAVITÓRIA.mp3",
  "Tenta acreditar - ANAVITÓRIA.mp3",
  "18 - One Direction.mp3",
  "Right Now - One Direction.mp3",
  "Ela - Clarissa.mp3",
  "Enchanted Taylor's Version - Taylor.mp3"
];
let index = 0;
const audio = new Audio();
const playBtn = document.querySelector(".controls button:nth-child(2)");
const progress = document.getElementById("progress");
const nowPlaying = document.getElementById("nowPlaying");
const volume = document.getElementById("volume");

function loadSong(i){
  index = i;
  const songName = playlist[index].replace('.mp3', '');
  
  nowPlaying.classList.add('fade');
  setTimeout(() => {
    audio.src = playlist[index];
    nowPlaying.textContent = "Tocando: " + songName;
    nowPlaying.classList.remove('fade');
    const playPromise = audio.play();
    if (playPromise !== undefined) {
        playPromise.then(() => {
            playBtn.textContent = "⏸";
        }).catch(() => {
            playBtn.textContent = "▶";
        });
    }
  }, 300);
}
function togglePlay(){
  if (audio.src === "") {
    loadSong(0); // Carrega a primeira música se nenhuma foi carregada
    return;
  }
  if(audio.paused){
      audio.play().then(() => playBtn.textContent="⏸");
  } else {
      audio.pause();
      playBtn.textContent="▶";
  }
}
function nextSong(){index=(index+1)%playlist.length;loadSong(index);}
function prevSong(){index=(index-1+playlist.length)%playlist.length;loadSong(index);}
audio.addEventListener("timeupdate",()=>{
  if (audio.duration) {
    const percent=(audio.currentTime/audio.duration)*100;
    progress.style.width=percent+"%";
  }
});
function setProgress(e){
  const width=e.currentTarget.clientWidth;
  const clickX=e.offsetX;
  const duration=audio.duration;
  if (duration) audio.currentTime=(clickX/width)*duration;
}
audio.addEventListener("ended",nextSong);
audio.addEventListener('play', () => playBtn.textContent = "⏸");
audio.addEventListener('pause', () => playBtn.textContent = "▶");
volume.addEventListener("input",()=>audio.volume=volume.value);

// Prepara a primeira música para tocar
audio.src = playlist[0];
nowPlaying.textContent = "Tocando: " + playlist[0].replace('.mp3', '');
playBtn.textContent="▶";


/* ========= CORAÇÕES ========= */
const hearts=document.getElementById('hearts'),ctx=hearts.getContext('2d');let W,H,parts=[];
function resize(){W=hearts.width=innerWidth;H=hearts.height=innerHeight;}
addEventListener('resize',resize);resize();
function heartPath(x,y,s){ctx.moveTo(x,y);ctx.bezierCurveTo(x-2*s,y-2*s,x-4*s,y+1.5*s,x,y+4*s);ctx.bezierCurveTo(x+4*s,y+1.5*s,x+2*s,y-2*s,x,y);}
function spawn(){parts.push({x:Math.random()*W,y:H+20,s:2+Math.random()*3,v:.6+Math.random()*1.2,life:0});if(parts.length>90)parts.shift();}
(function loop(){ctx.clearRect(0,0,W,H);parts.forEach(p=>{p.y-=p.v;p.x+=Math.sin((p.life+=0.02))*0.6;ctx.beginPath();ctx.globalAlpha=.6;ctx.fillStyle='rgba(110,168,255,0.7)';heartPath(p.x,p.y,p.s);ctx.fill();});spawn();requestAnimationFrame(loop);})();

/* ========= ANIMAÇÃO DA TIMELINE AO ROLAR ========= */
const timelineItems = document.querySelectorAll('.timeline li');
const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry, index) => {
    if (entry.isIntersecting) {
      setTimeout(() => {
        entry.target.classList.add('in-view');
      }, index * 150); // Atraso para cada item aparecer
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.5 });
timelineItems.forEach(item => observer.observe(item));

/* ========= MENSAGEM SECRETA ========= */
function revealSecret() {
  const input = document.getElementById('secret-input');
  const message = document.getElementById('secret-message');
  
  // senha correta
  const senhaCorreta = "281299";
  
  if (input.value.toLowerCase().trim() === senhaCorreta) {
    message.style.display = 'block';
  } else {
    alert("Senha errada, tente de novo! 😉");
    input.value = "";
  }
}
</script>
</body>
</html>